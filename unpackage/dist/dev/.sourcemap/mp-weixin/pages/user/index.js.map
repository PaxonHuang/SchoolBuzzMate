{"version":3,"file":"index.js","sources":["pages/user/index.vue","../../HBuilderX.4.87.2025121004/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdXNlci9pbmRleC52dWU"],"sourcesContent":["<template>\n  <view class=\"page-container\">\n    <view class=\"page-doodle-1\">‚ú¶</view>\n    <view class=\"page-doodle-2\">‚óâ</view>\n\n    <brutalist-card class=\"profile-header\" taped accent>\n      <view class=\"avatar-section\" @click=\"chooseAvatar\">\n        <view class=\"avatar-wrapper\">\n          <image v-if=\"userInfo.avatar\" class=\"avatar-image\" :src=\"userInfo.avatar\" mode=\"aspectFill\" />\n          <text v-else class=\"avatar-text\">{{ userInfo.nickname?.charAt(0) || 'U' }}</text>\n          <view class=\"avatar-edit\">\n            <text>üì∑</text>\n          </view>\n        </view>\n        <text class=\"edit-hint\">ÁÇπÂáªÊõ¥Êç¢Â§¥ÂÉè</text>\n      </view>\n\n      <view class=\"user-name-section\">\n        <text class=\"user-name\">{{ userInfo.nickname || 'Ê†°Âõ≠Áî®Êà∑' }}</text>\n        <view class=\"edit-icon\" @click=\"editNickname\">‚úèÔ∏è</view>\n      </view>\n    </brutalist-card>\n\n    <brutalist-card class=\"info-card\">\n      <view class=\"info-title\">\n        <text>üìã</text>\n        <text>Âü∫Êú¨‰ø°ÊÅØ</text>\n      </view>\n\n      <view class=\"info-item\" @click=\"showGenderPicker = true\">\n        <text class=\"label\">ÊÄßÂà´</text>\n        <view class=\"value\">\n          <text>{{ getGenderText(userInfo.gender) }}</text>\n          <text class=\"arrow\">‚Üí</text>\n        </view>\n      </view>\n\n      <view class=\"info-item\" @click=\"editContact\">\n        <text class=\"label\">ËÅîÁ≥ªÊñπÂºè</text>\n        <view class=\"value\">\n          <text>{{ userInfo.contact || 'Êú™ËÆæÁΩÆ' }}</text>\n          <text class=\"arrow\">‚Üí</text>\n        </view>\n      </view>\n    </brutalist-card>\n\n    <brutalist-card class=\"address-card\">\n      <view class=\"card-header\">\n        <view class=\"info-title\">\n          <text>üìç</text>\n          <text>Êî∂Ë¥ßÂú∞ÂùÄ</text>\n        </view>\n        <view class=\"add-btn\" @click=\"addAddress\">+ Êñ∞Â¢û</view>\n      </view>\n\n      <view v-if=\"addresses.length === 0\" class=\"empty-address\">\n        <text class=\"empty-icon\">üì¶</text>\n        <text class=\"empty-text\">ÊöÇÊó†Êî∂Ë¥ßÂú∞ÂùÄ</text>\n      </view>\n\n      <view v-else class=\"address-list\">\n        <view\n          v-for=\"(addr, index) in addresses\"\n          :key=\"addr.id\"\n          class=\"address-item\"\n          @click=\"editAddress(index)\"\n        >\n          <view class=\"address-header\">\n            <text class=\"address-name\">{{ addr.name }}</text>\n            <view class=\"address-actions\">\n              <text class=\"default-tag\" v-if=\"addr.isDefault\">ÈªòËÆ§</text>\n              <text class=\"delete-btn\" @click.stop=\"deleteAddress(index)\">√ó</text>\n            </view>\n          </view>\n          <text class=\"address-detail\">\n            {{ addr.campus }} ¬∑ {{ addr.location }} ¬∑ {{ addr.detail }}\n          </text>\n          <text class=\"address-phone\">{{ addr.phone }}</text>\n        </view>\n      </view>\n    </brutalist-card>\n\n    <brutalist-button class=\"logout-btn\" outline @click=\"handleLogout\">\n      ÈÄÄÂá∫ÁôªÂΩï\n    </brutalist-button>\n\n    <TabBar />\n\n    <uni-popup ref=\"nicknamePopup\" type=\"dialog\">\n      <view class=\"popup-content\">\n        <text class=\"popup-title\">‰øÆÊîπÊòµÁß∞</text>\n        <input\n          v-model=\"tempNickname\"\n          class=\"popup-input\"\n          placeholder=\"ËØ∑ËæìÂÖ•Êñ∞ÊòµÁß∞\"\n          :maxlength=\"20\"\n        />\n        <view class=\"popup-buttons\">\n          <text class=\"popup-btn cancel\" @click=\"closeNicknamePopup\">ÂèñÊ∂à</text>\n          <text class=\"popup-btn confirm\" @click=\"saveNickname\">Á°ÆÂÆö</text>\n        </view>\n      </view>\n    </uni-popup>\n\n    <picker mode=\"selector\" :range=\"genderOptions\" :value=\"genderIndex\" @change=\"onGenderChange\" :show=\"showGenderPicker\" @cancel=\"showGenderPicker = false\">\n      <view></view>\n    </picker>\n\n    <uni-popup ref=\"addressPopup\" type=\"center\">\n      <view class=\"address-popup-content\">\n        <text class=\"popup-title\">{{ editingAddressIndex >= 0 ? 'ÁºñËæëÂú∞ÂùÄ' : 'Êñ∞Â¢ûÂú∞ÂùÄ' }}</text>\n\n        <view class=\"form-group\">\n          <text class=\"form-label\">ËÅîÁ≥ª‰∫∫</text>\n          <input\n            v-model=\"addressForm.name\"\n            class=\"form-input\"\n            placeholder=\"ËØ∑ËæìÂÖ•ËÅîÁ≥ª‰∫∫ÂßìÂêç\"\n            :maxlength=\"10\"\n          />\n        </view>\n\n        <view class=\"form-group\">\n          <text class=\"form-label\">ÊâãÊú∫Âè∑</text>\n          <input\n            v-model=\"addressForm.phone\"\n            class=\"form-input\"\n            type=\"number\"\n            placeholder=\"ËØ∑ËæìÂÖ•ÊâãÊú∫Âè∑\"\n            :maxlength=\"11\"\n          />\n        </view>\n\n        <view class=\"form-group\">\n          <text class=\"form-label\">Ê†°Âå∫</text>\n          <picker mode=\"selector\" :range=\"campusOptions\" @change=\"onCampusChange\">\n            <view class=\"form-picker\">\n              <text>{{ addressForm.campus || 'ËØ∑ÈÄâÊã©Ê†°Âå∫' }}</text>\n              <text class=\"picker-arrow\">‚ñº</text>\n            </view>\n          </picker>\n        </view>\n\n        <view class=\"form-group\">\n          <text class=\"form-label\">‰ΩçÁΩÆÁ±ªÂûã</text>\n          <picker mode=\"selector\" :range=\"locationTypeOptions\" @change=\"onLocationTypeChange\">\n            <view class=\"form-picker\">\n              <text>{{ addressForm.locationType || 'ËØ∑ÈÄâÊã©‰ΩçÁΩÆÁ±ªÂûã' }}</text>\n              <text class=\"picker-arrow\">‚ñº</text>\n            </view>\n          </picker>\n        </view>\n\n        <view class=\"form-group\">\n          <text class=\"form-label\">ËØ¶ÁªÜ‰ΩçÁΩÆ</text>\n          <input\n            v-model=\"addressForm.detail\"\n            class=\"form-input\"\n            placeholder=\"ËØ∑ËæìÂÖ•ËØ¶ÁªÜ‰ΩçÁΩÆ\"\n            :maxlength=\"50\"\n          />\n        </view>\n\n        <view class=\"form-group checkbox-group\">\n          <checkbox :checked=\"addressForm.isDefault\" @change=\"onDefaultChange\" />\n          <text class=\"checkbox-label\">ËÆæ‰∏∫ÈªòËÆ§Âú∞ÂùÄ</text>\n        </view>\n\n        <view class=\"popup-buttons\">\n          <text class=\"popup-btn cancel\" @click=\"closeAddressPopup\">ÂèñÊ∂à</text>\n          <text class=\"popup-btn confirm\" @click=\"saveAddress\">‰øùÂ≠ò</text>\n        </view>\n      </view>\n    </uni-popup>\n  </view>\n</template>\n\n<script setup lang=\"uts\">\nimport { ref, computed } from 'vue'\nimport { useUserStore } from '@/stores/user'\nimport BrutalistCard from '@/components/brutalist/BrutalistCard.vue'\nimport BrutalistButton from '@/components/brutalist/BrutalistButton.vue'\nimport TabBar from '@/components/brutalist/TabBar.vue'\n\ninterface Address {\n  id: string\n  name: string\n  phone: string\n  campus: string\n  locationType: string\n  detail: string\n  isDefault: boolean\n}\n\nconst userStore = useUserStore()\n\nconst userInfo = computed(() => userStore.user || {\n  nickname: 'Ê†°Âõ≠Áî®Êà∑',\n  avatar: '',\n  gender: 'secret',\n  contact: ''\n})\n\nconst addresses = ref<Address[]>([])\n\nconst tempNickname = ref('')\nconst showGenderPicker = ref(false)\nconst genderIndex = ref(0)\n\nconst genderOptions = ['Áî∑', 'Â•≥', '‰øùÂØÜ']\nconst campusOptions = ['‰∏ªÊ†°Âå∫', 'ÂçóÊ†°Âå∫', 'ÂåóÊ†°Âå∫', '‰∏úÊ†°Âå∫']\nconst locationTypeOptions = ['Ê†°Èó®', 'ÊïôÂ≠¶Ê•º', 'ÂÆøËàçÊ•º', 'È£üÂ†Ç', 'Âõæ‰π¶È¶Ü', '‰ΩìËÇ≤È¶Ü']\n\nconst editingAddressIndex = ref(-1)\nconst addressForm = ref<Address>({\n  id: '',\n  name: '',\n  phone: '',\n  campus: '',\n  locationType: '',\n  detail: '',\n  isDefault: false\n})\n\nfunction getGenderText(gender?: string): string {\n  const map: Record<string, string> = {\n    'male': 'Áî∑',\n    'female': 'Â•≥',\n    'secret': '‰øùÂØÜ'\n  }\n  return map[gender || 'secret'] || '‰øùÂØÜ'\n}\n\nfunction chooseAvatar() {\n  uni.chooseImage({\n    count: 1,\n    sizeType: ['compressed'],\n    sourceType: ['album', 'camera'],\n    success: (res) => {\n      const tempFilePath = res.tempFilePaths[0]\n      uni.uploadFile({\n        url: 'https://your-upload-url.com/upload',\n        filePath: tempFilePath,\n        name: 'file',\n        success: (uploadRes) => {\n          const data = JSON.parse(uploadRes.data)\n          userInfo.value.avatar = data.url\n          saveUserInfo()\n        }\n      })\n    }\n  })\n}\n\nfunction editNickname() {\n  tempNickname.value = userInfo.value.nickname || ''\n}\n\nfunction saveNickname() {\n  if (!tempNickname.value.trim()) {\n    uni.showToast({ title: 'ÊòµÁß∞‰∏çËÉΩ‰∏∫Á©∫', icon: 'none' })\n    return\n  }\n  userInfo.value.nickname = tempNickname.value\n  saveUserInfo()\n  uni.showToast({ title: '‰øÆÊîπÊàêÂäü', icon: 'success' })\n}\n\nfunction closeNicknamePopup() {\n}\n\nfunction onGenderChange(e: any) {\n  const index = e.detail.value\n  const genderMap = ['male', 'female', 'secret']\n  userInfo.value.gender = genderMap[index]\n  saveUserInfo()\n  showGenderPicker.value = false\n}\n\nfunction editContact() {\n  uni.showModal({\n    title: '‰øÆÊîπËÅîÁ≥ªÊñπÂºè',\n    editable: true,\n    placeholderText: userInfo.value.contact || 'ËØ∑ËæìÂÖ•ËÅîÁ≥ªÊñπÂºè',\n    success: (res) => {\n      if (res.confirm && res.content) {\n        userInfo.value.contact = res.content\n        saveUserInfo()\n      }\n    }\n  })\n}\n\nfunction addAddress() {\n  editingAddressIndex.value = -1\n  addressForm.value = {\n    id: '',\n    name: '',\n    phone: '',\n    campus: '',\n    locationType: '',\n    detail: '',\n    isDefault: false\n  }\n}\n\nfunction editAddress(index: number) {\n  editingAddressIndex.value = index\n  addressForm.value = { ...addresses.value[index] }\n}\n\nfunction deleteAddress(index: number) {\n  uni.showModal({\n    title: 'Á°ÆËÆ§Âà†Èô§',\n    content: 'Á°ÆÂÆöË¶ÅÂà†Èô§ËØ•Âú∞ÂùÄÂêóÔºü',\n    success: (res) => {\n      if (res.confirm) {\n        addresses.value.splice(index, 1)\n        saveAddresses()\n      }\n    }\n  })\n}\n\nfunction onCampusChange(e: any) {\n  addressForm.value.campus = campusOptions[e.detail.value]\n}\n\nfunction onLocationTypeChange(e: any) {\n  addressForm.value.locationType = locationTypeOptions[e.detail.value]\n}\n\nfunction onDefaultChange(e: any) {\n  addressForm.value.isDefault = e.detail.value[0]\n}\n\nfunction closeAddressPopup() {\n  editingAddressIndex.value = -1\n}\n\nfunction saveAddress() {\n  if (!addressForm.value.name.trim()) {\n    uni.showToast({ title: 'ËØ∑ËæìÂÖ•ËÅîÁ≥ª‰∫∫', icon: 'none' })\n    return\n  }\n  if (!addressForm.value.phone) {\n    uni.showToast({ title: 'ËØ∑ËæìÂÖ•ÊâãÊú∫Âè∑', icon: 'none' })\n    return\n  }\n  if (!/^1[3-9]\\d{9}$/.test(addressForm.value.phone)) {\n    uni.showToast({ title: 'ÊâãÊú∫Âè∑Ê†ºÂºèÈîôËØØ', icon: 'none' })\n    return\n  }\n  if (!addressForm.value.campus) {\n    uni.showToast({ title: 'ËØ∑ÈÄâÊã©Ê†°Âå∫', icon: 'none' })\n    return\n  }\n  if (!addressForm.value.locationType) {\n    uni.showToast({ title: 'ËØ∑ÈÄâÊã©‰ΩçÁΩÆÁ±ªÂûã', icon: 'none' })\n    return\n  }\n  if (!addressForm.value.detail.trim()) {\n    uni.showToast({ title: 'ËØ∑ËæìÂÖ•ËØ¶ÁªÜ‰ΩçÁΩÆ', icon: 'none' })\n    return\n  }\n\n  if (addressForm.value.isDefault) {\n    addresses.value.forEach(addr => addr.isDefault = false)\n  }\n\n  const address = {\n    ...addressForm.value,\n    id: addressForm.value.id || 'addr_' + Date.now()\n  }\n\n  if (editingAddressIndex.value >= 0) {\n    addresses.value[editingAddressIndex.value] = address\n  } else {\n    addresses.value.push(address)\n  }\n\n  saveAddresses()\n  uni.showToast({ title: '‰øùÂ≠òÊàêÂäü', icon: 'success' })\n}\n\nfunction saveUserInfo() {\n  userStore.setUserInfo(userInfo.value)\n  uni.setStorageSync('userInfo', userInfo.value)\n}\n\nfunction saveAddresses() {\n  uni.setStorageSync('addresses', addresses.value)\n}\n\nfunction handleLogout() {\n  uni.showModal({\n    title: 'ÊèêÁ§∫',\n    content: 'Á°ÆÂÆöË¶ÅÈÄÄÂá∫ÁôªÂΩïÂêóÔºü',\n    success: (res) => {\n      if (res.confirm) {\n        userStore.logout()\n        uni.showToast({ title: 'Â∑≤ÈÄÄÂá∫ÁôªÂΩï', icon: 'success' })\n      }\n    }\n  })\n}\n\nfunction loadAddresses() {\n  const saved = uni.getStorageSync('addresses')\n  if (saved && Array.isArray(saved)) {\n    addresses.value = saved\n  }\n}\n\nloadAddresses()\n</script>\n\n<style lang=\"scss\" scoped>\n$black: #000000;\n$white: #ffffff;\n$red: #FF6B6B;\n$teal: #4ECDC4;\n$yellow: #FFE66D;\n\n.page-container {\n  min-height: 100vh;\n  padding: 24rpx;\n  padding-bottom: 160rpx;\n  background: linear-gradient(180deg, #FFF9E6 0%, #ffffff 50%, #F0FFF4 100%);\n  position: relative;\n}\n\n.page-doodle {\n  &-1 {\n    position: fixed;\n    top: 120rpx;\n    right: 40rpx;\n    font-size: 48rpx;\n    color: $teal;\n    opacity: 0.3;\n    animation: spin 12s linear infinite;\n    z-index: 0;\n  }\n\n  &-2 {\n    position: fixed;\n    top: 400rpx;\n    left: 40rpx;\n    font-size: 36rpx;\n    color: $yellow;\n    opacity: 0.35;\n    animation: pulse 3s ease-in-out infinite;\n    z-index: 0;\n  }\n}\n\n.profile-header {\n  text-align: center;\n  padding: 48rpx 32rpx !important;\n  margin-bottom: 32rpx !important;\n\n  .avatar-section {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    margin-bottom: 24rpx;\n  }\n\n  .avatar-wrapper {\n    position: relative;\n    width: 160rpx;\n    height: 160rpx;\n    border-radius: 50%;\n    background: linear-gradient(135deg, $teal, #4ECDC4);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    box-shadow: 6rpx 6rpx 0 $black;\n    margin-bottom: 16rpx;\n    overflow: hidden;\n  }\n\n  .avatar-image {\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n  }\n\n  .avatar-text {\n    font-size: 72rpx;\n    font-weight: 900;\n    color: $white;\n  }\n\n  .avatar-edit {\n    position: absolute;\n    bottom: 0;\n    right: 0;\n    width: 48rpx;\n    height: 48rpx;\n    background: $yellow;\n    border: 3rpx solid $black;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    box-shadow: 3rpx 3rpx 0 $black;\n\n    text {\n      font-size: 24rpx;\n    }\n  }\n\n  .edit-hint {\n    font-size: 22rpx;\n    color: #999;\n  }\n\n  .user-name-section {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 12rpx;\n  }\n\n  .user-name {\n    font-size: 40rpx;\n    font-weight: 900;\n    color: $black;\n  }\n\n  .edit-icon {\n    font-size: 32rpx;\n    cursor: pointer;\n  }\n}\n\n.info-card, .address-card {\n  margin-bottom: 24rpx !important;\n  padding: 32rpx 24rpx !important;\n}\n\n.info-title, .card-header {\n  display: flex;\n  align-items: center;\n  gap: 8rpx;\n  margin-bottom: 24rpx;\n\n  text:first-child {\n    font-size: 32rpx;\n  }\n\n  text:nth-child(2) {\n    font-size: 28rpx;\n    font-weight: 900;\n    color: $black;\n  }\n}\n\n.card-header {\n  justify-content: space-between;\n}\n\n.add-btn {\n  padding: 8rpx 16rpx;\n  background: $teal;\n  border: 2rpx solid $black;\n  box-shadow: 2rpx 2rpx 0 $black;\n  font-size: 22rpx;\n  font-weight: 700;\n}\n\n.info-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 20rpx 0;\n  border-bottom: 2rpx dashed #ddd;\n\n  &:last-child {\n    border-bottom: none;\n  }\n\n  .label {\n    font-size: 26rpx;\n    font-weight: 700;\n    color: #333;\n  }\n\n  .value {\n    display: flex;\n    align-items: center;\n    gap: 8rpx;\n    color: #666;\n\n    text:first-child {\n      font-size: 26rpx;\n    }\n\n    .arrow {\n      font-size: 24rpx;\n    }\n  }\n}\n\n.empty-address {\n  text-align: center;\n  padding: 60rpx 0;\n\n  .empty-icon {\n    display: block;\n    font-size: 64rpx;\n    margin-bottom: 16rpx;\n    opacity: 0.5;\n  }\n\n  .empty-text {\n    display: block;\n    font-size: 26rpx;\n    color: #999;\n  }\n}\n\n.address-list {\n  display: flex;\n  flex-direction: column;\n  gap: 16rpx;\n}\n\n.address-item {\n  padding: 20rpx;\n  border: 3rpx solid $black;\n  background: $white;\n  box-shadow: 3rpx 3rpx 0 $black;\n}\n\n.address-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 12rpx;\n}\n\n.address-name {\n  font-size: 28rpx;\n  font-weight: 700;\n}\n\n.address-actions {\n  display: flex;\n  align-items: center;\n  gap: 12rpx;\n}\n\n.default-tag {\n  padding: 4rpx 8rpx;\n  background: $teal;\n  border: 2rpx solid $black;\n  font-size: 20rpx;\n  font-weight: 700;\n}\n\n.delete-btn {\n  font-size: 32rpx;\n  color: $red;\n  font-weight: 700;\n}\n\n.address-detail {\n  display: block;\n  font-size: 24rpx;\n  color: #666;\n  margin-bottom: 8rpx;\n  line-height: 1.4;\n}\n\n.address-phone {\n  display: block;\n  font-size: 22rpx;\n  color: #999;\n}\n\n.logout-btn {\n  margin-top: 32rpx;\n  width: 100%;\n}\n\n.popup-content, .address-popup-content {\n  background: $white;\n  padding: 48rpx 32rpx;\n  border: 4rpx solid $black;\n  box-shadow: 6rpx 6rpx 0 $black;\n  width: 600rpx;\n}\n\n.popup-title {\n  display: block;\n  font-size: 36rpx;\n  font-weight: 900;\n  color: $black;\n  text-align: center;\n  margin-bottom: 32rpx;\n}\n\n.popup-input {\n  width: 100%;\n  padding: 20rpx;\n  border: 3rpx solid $black;\n  background: #F5F5F5;\n  font-size: 28rpx;\n  margin-bottom: 32rpx;\n  box-shadow: 3rpx 3rpx 0 $black;\n}\n\n.form-group {\n  margin-bottom: 24rpx;\n\n  .form-label {\n    display: block;\n    font-size: 24rpx;\n    font-weight: 700;\n    color: #333;\n    margin-bottom: 12rpx;\n  }\n\n  .form-input {\n    width: 100%;\n    padding: 16rpx 20rpx;\n    border: 3rpx solid $black;\n    background: $white;\n    font-size: 26rpx;\n    box-shadow: 3rpx 3rpx 0 $black;\n  }\n\n  .form-picker {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 16rpx 20rpx;\n    border: 3rpx solid $black;\n    background: $white;\n    box-shadow: 3rpx 3rpx 0 $black;\n\n    text:first-child {\n      font-size: 26rpx;\n    }\n\n    .picker-arrow {\n      font-size: 20rpx;\n      color: #999;\n    }\n  }\n\n  &.checkbox-group {\n    display: flex;\n    align-items: center;\n    gap: 12rpx;\n    padding: 16rpx 20rpx;\n    border: 3rpx solid $black;\n    background: $white;\n\n    .checkbox-label {\n      font-size: 26rpx;\n    }\n  }\n}\n\n.popup-buttons {\n  display: flex;\n  gap: 16rpx;\n  margin-top: 32rpx;\n}\n\n.popup-btn {\n  flex: 1;\n  padding: 20rpx;\n  text-align: center;\n  font-size: 28rpx;\n  font-weight: 700;\n  border: 3rpx solid $black;\n  box-shadow: 3rpx 3rpx 0 $black;\n\n  &.cancel {\n    background: #F5F5F5;\n  }\n\n  &.confirm {\n    background: $teal;\n  }\n}\n\n@keyframes spin {\n  from { transform: rotate(0deg); }\n  to { transform: rotate(360deg); }\n}\n\n@keyframes pulse {\n  0%, 100% { transform: scale(1); }\n  50% { transform: scale(1.15); }\n}\n</style>\n","import MiniProgramPage from 'E:/codeplace/test/pages/user/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["BrutalistCard","BrutalistButton","TabBar","userStore","useUserStore","userInfo","computed","user","nickname","avatar","gender","contact","addresses","ref","tempNickname","showGenderPicker","genderIndex","genderOptions","campusOptions","locationTypeOptions","editingAddressIndex","addressForm","id","name","phone","campus","locationType","detail","isDefault","chooseAvatar","uni","chooseImage","count","sizeType","sourceType","success","res","tempFilePath","tempFilePaths","uploadFile","url","filePath","uploadRes","data","JSON","parse","value","editNickname","saveNickname","trim","index","showToast","title","icon","closeNicknamePopup","onGenderChange","e","editContact","showModal","editable","placeholderText","confirm","content","addAddress","onCampusChange","onLocationTypeChange","onDefaultChange","closeAddressPopup","saveAddress","test","forEach","addr","address","Date","now","push","saveUserInfo","setUserInfo","setStorageSync","saveAddresses","handleLogout","logout","saved","getStorageSync","Array","isArray","male","female","secret","splice","wx","createPage","MiniProgramPage"],"mappings":"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"}