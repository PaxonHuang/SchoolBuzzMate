{"version":3,"file":"detail.js","sources":["pages/delivery/detail.vue","../../HBuilderX.4.87.2025121004/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvZGVsaXZlcnkvZGV0YWlsLnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"page-container\">\n    <!-- é¡µé¢èƒŒæ™¯è£…é¥° -->\n    <view class=\"page-doodle-1\">âœ¦</view>\n\n    <!-- è¿”å›å¯¼èˆª -->\n    <view class=\"nav-back\" @click=\"goBack\">\n      <text class=\"back-icon\">â†</text>\n      <text class=\"back-text\">è¿”å›</text>\n    </view>\n\n    <view v-if=\"request\" class=\"content-wrapper\">\n      <!-- è¯·æ±‚è¯¦æƒ…å¡ç‰‡ -->\n      <brutalist-card class=\"detail-card\" taped>\n        <!-- çŠ¶æ€æ  -->\n        <view class=\"status-bar\" :class=\"'status-' + request.status\">\n          <text>{{ getStatusIcon(request.status) }}</text>\n          <text>{{ getStatusText(request.status) }}</text>\n        </view>\n\n        <!-- æ ‡é¢˜ -->\n        <text class=\"detail-title\">{{ request.title }}</text>\n\n        <!-- æè¿° -->\n        <text class=\"detail-desc\">{{ request.description }}</text>\n\n        <!-- æ ‡ç­¾ -->\n        <view class=\"detail-tags\">\n          <view\n            v-for=\"tag in request.tags\"\n            :key=\"tag\"\n            class=\"tag-badge\"\n          >\n            <text>{{ getTagEmoji(tag) }}</text>\n            <text>{{ tag }}</text>\n          </view>\n        </view>\n\n        <!-- ä¿¡æ¯æ  -->\n        <view class=\"info-bar\">\n          <view class=\"info-item\">\n            <text>ğŸ‘¤</text>\n            <text>{{ request.creatorName || 'æ ¡å›­ç”¨æˆ·' }}</text>\n          </view>\n          <view class=\"info-item\">\n            <text>â°</text>\n            <text>{{ formatTime(request.createTime) }}</text>\n          </view>\n        </view>\n\n        <!-- é‡‘é¢æ˜¾ç¤º -->\n        <view v-if=\"request.amount\" class=\"amount-display\">\n          <text class=\"amount-label\">è·‘è…¿è´¹</text>\n          <text class=\"amount-value\">Â¥{{ request.amount }}</text>\n        </view>\n      </brutalist-card>\n\n      <!-- æ“ä½œå¡ç‰‡ -->\n      <brutalist-card v-if=\"request.status === 'open'\" class=\"action-card\">\n        <brutalist-button\n          class=\"accept-btn\"\n          accent\n          taped\n          arrow\n          large\n          @click=\"acceptRequest\"\n        >\n          æˆ‘æ¥æ¥å•\n        </brutalist-button>\n        <brutalist-button\n          class=\"contact-btn\"\n          outline\n          @click=\"contactCreator\"\n        >\n          è”ç³»å‘å¸ƒè€…\n        </brutalist-button>\n      </brutalist-card>\n\n      <brutalist-card v-else class=\"action-card\">\n        <view class=\"closed-notice\">\n          <text>ğŸ“Œ è¯¥éœ€æ±‚å·²{{ getStatusText(request.status) }}</text>\n        </view>\n      </brutalist-card>\n    </view>\n\n    <!-- åŠ è½½ä¸­ -->\n    <view v-else class=\"loading\">\n      <brutalist-card class=\"loading-card\" dashed>\n        <text class=\"loading-text\">åŠ è½½ä¸­...</text>\n      </brutalist-card>\n    </view>\n  </view>\n</template>\n\n<script setup lang=\"uts\">\nimport { ref, onMounted } from 'vue'\nimport BrutalistCard from '@/components/brutalist/BrutalistCard.vue'\nimport BrutalistButton from '@/components/brutalist/BrutalistButton.vue'\n\ninterface DeliveryRequest {\n  _id: string\n  title: string\n  description: string\n  tags: string[]\n  status: string\n  createTime: number\n  amount?: number\n  creatorName?: string\n}\n\nconst request = ref<DeliveryRequest | null>(null)\nconst requestId = ref('')\n\nfunction getTagEmoji(tag: string): string {\n  const emojiMap: Record<string, string> = {\n    'å–å¿«é€’': 'ğŸ“¦',\n    'ä¹°é¥­': 'ğŸœ',\n    'æ‰“å°': 'ğŸ“„',\n    'ä»£è´­': 'ğŸ›’',\n    'é€ä¸œè¥¿': 'ğŸšš',\n    'å…¶ä»–': 'ğŸ“Œ'\n  }\n  return emojiMap[tag] || 'ğŸ·ï¸'\n}\n\nfunction getStatusText(status: string): string {\n  const statusMap: Record<string, string> = {\n    'open': 'å¾…æ¥å•',\n    'in_progress': 'è¿›è¡Œä¸­',\n    'completed': 'å·²å®Œæˆ'\n  }\n  return statusMap[status] || status\n}\n\nfunction getStatusIcon(status: string): string {\n  const iconMap: Record<string, string> = {\n    'open': 'ğŸ”¥',\n    'in_progress': 'â³',\n    'completed': 'âœ…'\n  }\n  return iconMap[status] || 'ğŸ“Œ'\n}\n\nfunction formatTime(timestamp: number): string {\n  const date = new Date(timestamp)\n  const now = new Date()\n  const diff = now.getTime() - date.getTime()\n\n  if (diff < 60000) {\n    return 'åˆšåˆš'\n  } else if (diff < 3600000) {\n    return Math.floor(diff / 60000) + 'åˆ†é’Ÿå‰'\n  } else if (diff < 86400000) {\n    return Math.floor(diff / 3600000) + 'å°æ—¶å‰'\n  } else {\n    return Math.floor(diff / 86400000) + 'å¤©å‰'\n  }\n}\n\nfunction goBack() {\n  uni.navigateBack()\n}\n\nfunction acceptRequest() {\n  uni.showToast({\n    title: 'æ¥å•æˆåŠŸï¼',\n    icon: 'success'\n  })\n}\n\nfunction contactCreator() {\n  uni.showToast({\n    title: 'è¯·è”ç³»å‘å¸ƒè€…',\n    icon: 'none'\n  })\n}\n\nasync function loadRequest() {\n  const pages = getCurrentPages()\n  const currentPage = pages[pages.length - 1]\n  const options = (currentPage as any).options || {}\n  requestId.value = options.id || ''\n\n  if (!requestId.value) {\n    uni.showToast({\n      title: 'éœ€æ±‚ä¸å­˜åœ¨',\n      icon: 'none'\n    })\n    setTimeout(() => {\n      uni.navigateBack()\n    }, 1500)\n    return\n  }\n\n  // ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®\n  request.value = {\n    _id: requestId.value,\n    title: 'å¸®å¿™å–ä¸ªå¿«é€’',\n    description: 'èœé¸Ÿé©¿ç«™æœ‰ä¸ªä¸­ä»¶å¿«é€’ï¼Œå¸®å¿™å–åˆ°å—åŒºå®¿èˆæ¥¼ä¸‹ï¼Œæ„Ÿæ¿€ä¸å°½ï¼',\n    tags: ['å–å¿«é€’'],\n    status: 'open',\n    createTime: Date.now() - 1800000,\n    amount: 5,\n    creatorName: 'åŒå­¦A'\n  }\n}\n\nonMounted(() => {\n  loadRequest()\n})\n</script>\n\n<style lang=\"scss\" scoped>\n// é‡å…½æ´¾é…è‰²æ–¹æ¡ˆ\n$black: #000000;\n$white: #ffffff;\n$red: #FF6B6B;\n$teal: #4ECDC4;\n$yellow: #FFE66D;\n\n.page-container {\n  min-height: 100vh;\n  padding: 24rpx;\n  padding-bottom: 48rpx;\n  background: linear-gradient(180deg, #FFF9E6 0%, #ffffff 50%, #FFE6F0 100%);\n  position: relative;\n}\n\n// èƒŒæ™¯æ¶‚é¸¦\n.page-doodle-1 {\n  position: fixed;\n  top: 100rpx;\n  right: 30rpx;\n  font-size: 40rpx;\n  color: $red;\n  opacity: 0.3;\n  animation: spin 10s linear infinite;\n  z-index: 0;\n}\n\n// è¿”å›å¯¼èˆª\n.nav-back {\n  display: flex;\n  align-items: center;\n  margin-bottom: 24rpx;\n  padding: 12rpx 0;\n\n  .back-icon {\n    font-size: 36rpx;\n    font-weight: 900;\n    margin-right: 8rpx;\n  }\n\n  .back-text {\n    font-size: 26rpx;\n    font-weight: 700;\n  }\n}\n\n// è¯¦æƒ…å¡ç‰‡\n.detail-card {\n  padding: 32rpx 24rpx !important;\n  margin-bottom: 24rpx !important;\n}\n\n.status-bar {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8rpx;\n  padding: 12rpx 24rpx;\n  border: 3rpx solid $black;\n  margin-bottom: 24rpx;\n  font-size: 24rpx;\n  font-weight: 700;\n  box-shadow: 3rpx 3rpx 0 $black;\n\n  &.status-open {\n    background: $yellow;\n  }\n\n  &.status-in_progress {\n    background: $teal;\n  }\n\n  &.status-completed {\n    background: #E0FFE0;\n  }\n}\n\n.detail-title {\n  display: block;\n  font-size: 36rpx;\n  font-weight: 900;\n  color: $black;\n  line-height: 1.4;\n  margin-bottom: 20rpx;\n}\n\n.detail-desc {\n  display: block;\n  font-size: 28rpx;\n  color: #333;\n  line-height: 1.7;\n  margin-bottom: 24rpx;\n}\n\n.detail-tags {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 12rpx;\n  margin-bottom: 24rpx;\n}\n\n.tag-badge {\n  display: flex;\n  align-items: center;\n  gap: 6rpx;\n  padding: 8rpx 16rpx;\n  border: 2rpx solid $black;\n  background: #F5F5F5;\n  font-size: 24rpx;\n  font-weight: 600;\n\n  text:first-child {\n    font-size: 22rpx;\n  }\n}\n\n.info-bar {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 24rpx;\n  padding-top: 20rpx;\n  border-top: 2rpx dashed #ddd;\n}\n\n.info-item {\n  display: flex;\n  align-items: center;\n  gap: 6rpx;\n  font-size: 24rpx;\n  color: #666;\n  font-weight: 600;\n\n  text:first-child {\n    font-size: 22rpx;\n  }\n}\n\n// é‡‘é¢æ˜¾ç¤º\n.amount-display {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 20rpx 24rpx;\n  margin-top: 24rpx;\n  border: 3rpx solid $black;\n  background: linear-gradient(135deg, $yellow, #FFEAA7);\n  box-shadow: 4rpx 4rpx 0 $black;\n\n  .amount-label {\n    font-size: 28rpx;\n    font-weight: 700;\n  }\n\n  .amount-value {\n    font-size: 40rpx;\n    font-weight: 900;\n    color: $red;\n  }\n}\n\n// æ“ä½œå¡ç‰‡\n.action-card {\n  padding: 24rpx !important;\n  display: flex;\n  flex-direction: column;\n  gap: 16rpx;\n}\n\n.accept-btn {\n  width: 100%;\n}\n\n.contact-btn {\n  width: 100%;\n}\n\n.closed-notice {\n  text-align: center;\n  padding: 24rpx;\n  font-size: 28rpx;\n  color: #999;\n}\n\n// åŠ è½½ä¸­\n.loading {\n  padding: 64rpx 0;\n\n  .loading-card {\n    text-align: center;\n    padding: 48rpx 32rpx !important;\n\n    .loading-text {\n      font-size: 28rpx;\n      color: #999;\n    }\n  }\n}\n\n// åŠ¨ç”»\n@keyframes spin {\n  from { transform: rotate(0deg); }\n  to { transform: rotate(360deg); }\n}\n</style>\n","import MiniProgramPage from 'E:/codeplace/test/pages/delivery/detail.vue'\nwx.createPage(MiniProgramPage)"],"names":["BrutalistCard","BrutalistButton","request","ref","requestId","getTagEmoji","tag","getStatusText","status","open","in_progress","completed","formatTime","timestamp","date","Date","diff","getTime","Math","floor","goBack","uni","index","navigateBack","acceptRequest","showToast","title","icon","contactCreator","onMounted","async","pages","getCurrentPages","options","length","value","id","setTimeout","_id","description","tags","createTime","now","amount","creatorName","wx","createPage","MiniProgramPage"],"mappings":"qEAgGA,MAAAA,EAA0B,IAAA,8CAC1BC,EAA4B,IAAA,8FAatB,MAAAC,EAAUC,MAA4B,MACtCC,EAAYD,MAAI,IAEtB,SAASE,EAAYC,GASZ,MARkC,CACvC,MAAO,KACP,KAAM,KACN,KAAM,KACN,KAAM,KACN,MAAO,KACP,KAAM,MAEQA,IAAQ,KAC1B,CAEA,SAASC,EAAcC,GAMd,MALmC,CACxCC,KAAQ,MACRC,YAAe,MACfC,UAAa,OAEEH,IAAWA,CAC9B,CAWA,SAASI,EAAWC,GACZ,MAAAC,EAAO,IAAIC,KAAKF,GAEhBG,OADUD,MACCE,UAAYH,EAAKG,UAElC,OAAID,EAAO,IACF,KACEA,EAAO,KACTE,KAAKC,MAAMH,EAAO,KAAS,MACzBA,EAAO,MACTE,KAAKC,MAAMH,EAAO,MAAW,MAE7BE,KAAKC,MAAMH,EAAO,OAAY,IAEzC,CAEA,SAASI,IACPC,EAAAC,MAAIC,cACN,CAEA,SAASC,IACPH,EAAAA,MAAII,UAAU,CACZC,MAAO,QACPC,KAAM,WAEV,CAEA,SAASC,IACPP,EAAAA,MAAII,UAAU,CACZC,MAAO,SACPC,KAAM,QAEV,QAgCAE,EAAAA,WAAU,MA9BVC,iBACE,MAAMC,EAAQC,kBAERC,EADcF,EAAMA,EAAMG,OAAS,GACJD,SAAW,GAG5C,GAFM7B,EAAA+B,MAAQF,EAAQG,IAAM,IAE3BhC,EAAU+B,MAQb,OAPAd,EAAAA,MAAII,UAAU,CACZC,MAAO,QACPC,KAAM,cAERU,YAAW,KACThB,EAAAC,MAAIC,cAAa,GAChB,MAKLrB,EAAQiC,MAAQ,CACdG,IAAKlC,EAAU+B,MACfT,MAAO,SACPa,YAAa,8BACbC,KAAM,CAAC,OACPhC,OAAQ,OACRiC,WAAY1B,KAAK2B,MAAQ,KACzBC,OAAQ,EACRC,YAAa,MAEjB,mEAvEuBpC,iBACmB,CACtCC,KAAQ,KACRC,YAAe,IACfC,UAAa,KAEAH,IAAW,sfAN5B,IAAuBA,2DCrIvBqC,GAAGC,WAAWC"}